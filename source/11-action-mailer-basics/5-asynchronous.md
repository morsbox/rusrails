# Асинхронность

Rails по умолчанию представляет синхронную очередь. Если хотите использовать асинхронную, следует настроить провайдер асинхронной очереди, такой как Resque. Предполагается, что у провайдера очереди имеется Railtie, в котором они настраивают собственную асинхронную чередь.

### Пользовательские очереди

Если для вашего рассыльщика необходима очередь иная, чем `Rails.queue`, можете использовать `ActionMailer::Base.queue=`:

```ruby
class WelcomeMailer < ActionMailer::Base
  self.queue = MyQueue.new
end
```

или добавить в свой `config/environments/$RAILS_ENV.rb`:

```ruby
config.action_mailer.queue = MyQueue.new
```

Ваша пользовательская очередь должна ожидать задание, отвечающее на `#run`.
